<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Task Form</title>
    <!-- Bootstrap CSS (lightweight and widely available) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <style>
      /* Styling tuned to match the grayscale wireframe */
      body { background: #f2f2f2; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
      .card-narrow { max-width: 360px; margin: 36px auto; box-shadow: none; border: 1px solid #e6e6e6; background: #fff; }
      .card-header-centered { text-align: center; font-weight: 700; padding: 14px 12px; background:#fbfbfb; border-bottom: 1px solid #e9ecef; font-size:1.25rem; }
      .form-section { padding: 18px; }
      .card-footer-actions { background:#f7f7f7; border-top: 1px solid #e9ecef; padding: 10px; display:flex; justify-content:center; gap:12px; }
      label { font-size: 1.125rem; margin-bottom: .6rem; display:block; }
      .form-control { border-radius: 4px; }
      textarea.form-control { min-height: 120px; }
      .status-row { margin-top: 8px; margin-bottom: 6px; }
      .btn-sm { padding: .35rem .6rem; font-size: .9rem; }
      .field-error { color: #d9534f; font-size: .9rem; margin-top: .25rem; }
    </style>
  </head>
  <body>
  <div class="card card-narrow shadow-sm">
      <div class="card-header-centered">Task Form</div>
      <div class="form-section">
        <form th:action="${task.id} == null ? @{/tasks} : @{/tasks/{id}(id=${task.id})}" th:object="${task}" method="post">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
          <div class="mb-4">
            <label for="title">Title</label>
            <input type="text" id="title" th:field="*{title}" class="form-control" placeholder="" required>
            <div class="field-error" th:if="${#fields.hasErrors('title')}" th:errors="*{title}" aria-live="polite"></div>
          </div>

          <div class="mb-4">
            <label for="description">Description</label>
            <textarea id="description" th:field="*{description}" class="form-control" rows="6" placeholder=""></textarea>
            <div class="field-error" th:if="${#fields.hasErrors('description')}" th:errors="*{description}" aria-live="polite"></div>
          </div>

          <div class="mb-4">
            <label for="dueDate">Due Date</label>
            <input type="date" id="dueDate" th:field="*{dueDate}" class="form-control">
            <div class="field-error" th:if="${#fields.hasErrors('dueDate')}" th:errors="*{dueDate}" aria-live="polite"></div>
          </div>

          <div class="mb-3">
            <label class="d-block">Status</label>
            <div class="status-row">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" th:field="*{done}" id="done">
                <label class="form-check-label" for="done">Done</label>
              </div>
            </div>
            <div class="field-error" th:if="${#fields.hasErrors('done')}" th:errors="*{done}"></div>
          </div>

          <div class="card-footer-actions">
            <button type="submit" class="btn btn-outline-secondary btn-sm">Save</button>
            <a th:href="@{/tasks}" class="btn btn-light btn-sm">Cancel</a>
          </div>
        </form>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
